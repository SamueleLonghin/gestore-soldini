{% extends "large.html" %}

{% block title %}
{{ title }}
{% endblock %}

{% block large_content %}
<div class="container-fluid">
    <h1 class="">{{ title }}</h1>
    <div class="dashboard-grid">
        <!-- Mattonella Totale Spese (più alta) -->
        <div
            class="dashboard-tile tile-tall border border-2 border-secondary rounded p-3 shadow text-center bg-light grid-item-spese">
            <h4 class="mb-2">Ultime Spese</h4>

            <a href="{{ url_for('gestione.spese', file_id=file_id) }}" class="btn btn-outline-secondary btn-sm">Vedi
                tutte le spese</a>
            {% include "_spese.html" %}
        </div>
        <!-- Mattonella Totale Ingressi (più lunga) -->
        <div
            class="dashboard-tile tile-wide border border-2 border-secondary rounded p-3 shadow text-center bg-light grid-item-inserisci-spesa">
            <h4 class="mb-2">Inserisci Spesa</h4>
            {% include "_inserisci_spesa.html" %}

        </div>
        <!-- Mattonella Spese Ricorrenti (normale) -->
        <div
            class="dashboard-tile border border-2 border-secondary rounded p-3 shadow text-center bg-light grid-item-ricorrenti">
            <h4 class="mb-2">Spese Ricorrenti</h4>
            <p class="display-6 fw-bold text-warning">{{ totale_ricorrenti }} €</p>
        </div>
        <!-- Mattonella Saldo (normale) -->
        <div
            class="dashboard-tile border border-2 border-secondary rounded p-3 shadow text-center bg-light grid-item-saldo">
            <h4 class="mb-2">Saldo Attuale</h4>
            <p class="display-6 fw-bold text-primary">{{ saldo_attuale }} €</p>
        </div>

    </div>

    <style>
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: repeat(4, auto);
            gap: 1.5rem;
        }

        .grid-item-spese {
            grid-row: 1 / -1;
            grid-column: 1 / span 3;
        }

        .grid-item-inserisci-spesa {
            grid-row: 1 / 2;
            grid-column: 4 / span 2;
        }

        .grid-item-ricorrenti {
            grid-row: 2 / 3;
            grid-column: 4 / span 1;
        }

        .grid-item-saldo {
            grid-row: 2 / 3;
            grid-column: 5 / -1;
        }

        .grid-item-filtro-spese {
            grid-row: -1;
            grid-column: 1;
        }

        /* Responsive: schermi <= 900px */
        @media (max-width: 900px) {
            .dashboard-grid {
                grid-template-columns: repeat(3, 1fr);
                grid-template-rows: auto auto auto;
            }

            .grid-item-spese {
                grid-row: 1 / 3;
                grid-column: 1 / span 2;
            }

            .grid-item-inserisci-spesa {
                grid-row: 1 / 2;
                grid-column: 3;
            }

            .grid-item-ricorrenti {
                grid-row: 2 / 3;
                grid-column: 3;
            }

            .grid-item-saldo {
                grid-row: 3 / 4;
                grid-column: 1 / 3;
            }
        }

        /* Responsive: schermi <= 600px */
        @media (max-width: 600px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto auto;
            }

            .grid-item-spese,
            .grid-item-inserisci-spesa,
            .grid-item-ricorrenti,
            .grid-item-saldo {
                grid-column: 1 / 2;
                grid-row: auto;
            }
        }
    </style>
</div>

{% endblock %}